<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dutch Listening Games - Continuous Player</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        select {
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            min-width: 200px;
        }
        
        .progress-bar {
            flex-grow: 1;
            background: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #667eea;
            width: 0%;
            transition: width 0.3s;
        }
        
        .player-container {
            padding: 30px;
            min-height: 400px;
        }
        
        .current-lesson-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }
        
        .current-lesson-info h2 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .lesson-number {
            font-size: 0.9em;
            color: #666;
            font-weight: bold;
        }
        
        .lesson-category {
            font-size: 0.9em;
            color: #888;
            margin-top: 5px;
        }
        
        .game-frame {
            width: 100%;
            height: 500px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 500px;
            color: #666;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            color: #667eea;
            font-weight: bold;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
            font-size: 0.9em;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #666;
            border-top: 2px solid #e0e0e0;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-group {
                width: 100%;
                justify-content: center;
            }
            
            select {
                width: 100%;
            }
            
            .game-frame {
                height: 400px;
            }
            
            header h1 {
                font-size: 1.8em;
            }
            
            .stats {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéß Dutch Listening Games - Continuous Player</h1>
            <p>Play all listening games one after another automatically</p>
        </header>
        
        <div class="controls">
            <div class="control-group">
                <button id="prevBtn">
                    ‚èÆ Previous
                </button>
                <button id="playPauseBtn">
                    ‚ñ∂ Play
                </button>
                <button id="nextBtn">
                    Next ‚è≠
                </button>
            </div>
            
            <div class="control-group">
                <select id="categorySelect">
                    <option value="all">All Categories</option>
                    <option value="basics">Basics & Greetings</option>
                    <option value="numbers">Numbers & Time</option>
                    <option value="school">School & Learning</option>
                    <option value="science">Colors & Science</option>
                    <option value="sports">Sports & Recreation</option>
                    <option value="animals">Animals & Nature</option>
                    <option value="family">Family & People</option>
                    <option value="clothing">Clothing & Appearance</option>
                    <option value="home">Home & Household</option>
                    <option value="shopping">Shopping & Town</option>
                    <option value="food">Food & Drinks</option>
                    <option value="travel">Transportation & Travel</option>
                    <option value="health">Health & Body</option>
                    <option value="work">Work & Technology</option>
                    <option value="grammar">Grammar & Language</option>
                    <option value="extra">Extra & Social</option>
                </select>
                
                <select id="lessonSelect">
                    <option value="auto">Auto-advance (Recommended)</option>
                    <option value="10">10 seconds per lesson</option>
                    <option value="20">20 seconds per lesson</option>
                    <option value="30">30 seconds per lesson</option>
                    <option value="60">1 minute per lesson</option>
                    <option value="120">2 minutes per lesson</option>
                    <option value="manual">Manual Only</option>
                </select>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="player-container">
            <div class="current-lesson-info">
                <div class="lesson-number" id="currentLessonNumber">Lesson 1 of 134</div>
                <h2 id="currentLessonTitle">Loading...</h2>
                <div class="lesson-category" id="currentLessonCategory">Category: Basics & Greetings</div>
            </div>
            
            <div class="game-frame" id="gameFrame">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>Loading listening game...</p>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button id="prev10Btn">‚è™ Back 10 Lessons</button>
                <button id="randomBtn">üé≤ Random Lesson</button>
                <button id="next10Btn">Forward 10 Lessons ‚è©</button>
            </div>
            
            <div class="stats">
                <div class="stat">
                    <div class="stat-number" id="completedCount">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="currentIndexDisplay">1</div>
                    <div class="stat-label">Current Position</div>
                </div>
                <div class="stat">
                    <div class="stat-number">134</div>
                    <div class="stat-label">Total Lessons</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="timerDisplay">00:00</div>
                    <div class="stat-label">Time on Lesson</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>üí° <strong>Tip:</strong> Set auto-advance and let it play while you do other tasks for passive listening practice!</p>
            <p style="margin-top: 10px;">All content ¬© LingoHut.com | Player by GitHub Pages</p>
        </footer>
    </div>
    
    <script>
        // All lessons data from your original page
        const allLessons = [
            // Basics & Greetings
            { number: 1, title: "Meeting someone", category: "basics", url: "https://www.lingohut.com/en/v772613L/dutch-lessons-meeting-someone/listening-game" },
            { number: 2, title: "Please and thank you", category: "basics", url: "https://www.lingohut.com/en/v772614L/dutch-lessons-please-and-thank-you/listening-game" },
            { number: 3, title: "Celebrations and parties", category: "basics", url: "https://www.lingohut.com/en/v772615L/dutch-lessons-celebrations-and-parties/listening-game" },
            { number: 4, title: "Peace on earth", category: "basics", url: "https://www.lingohut.com/en/v772616L/dutch-lessons-peace-on-earth/listening-game" },
            { number: 5, title: "Feelings and emotions", category: "basics", url: "https://www.lingohut.com/en/v772617L/dutch-lessons-feelings-and-emotions/listening-game" },
            { number: "Extra", title: "Nice to meet you", category: "basics", url: "https://www.lingohut.com/en/v606L/dutch-lessons-nice-to-meet-you/listening-game" },
            { number: "Extra", title: "Friendship", category: "basics", url: "https://www.lingohut.com/en/v607L/dutch-lessons-friendship/listening-game" },
            
            // Numbers & Time
            { number: 6, title: "Days of the week", category: "numbers", url: "https://www.lingohut.com/en/v772618L/dutch-lessons-days-of-the-week/listening-game" },
            { number: 7, title: "Months of the year", category: "numbers", url: "https://www.lingohut.com/en/v772619L/dutch-lessons-months-of-the-year/listening-game" },
            { number: 8, title: "Numbers 1 through 10", category: "numbers", url: "https://www.lingohut.com/en/v772620L/dutch-lessons-numbers-1-through-10/listening-game" },
            { number: 9, title: "Numbers 11 through 20", category: "numbers", url: "https://www.lingohut.com/en/v772621L/dutch-lessons-numbers-11-through-20/listening-game" },
            { number: 10, title: "Numbers 21 through 30", category: "numbers", url: "https://www.lingohut.com/en/v772622L/dutch-lessons-numbers-21-through-30/listening-game" },
            { number: 11, title: "Numbers 10 through 100", category: "numbers", url: "https://www.lingohut.com/en/v772623L/dutch-lessons-numbers-10-through-100/listening-game" },
            { number: 12, title: "Numbers 100 through 1000", category: "numbers", url: "https://www.lingohut.com/en/v772624L/dutch-lessons-numbers-100-through-1000/listening-game" },
            { number: 13, title: "Numbers 1000 through 10000", category: "numbers", url: "https://www.lingohut.com/en/v772625L/dutch-lessons-numbers-1000-through-10000/listening-game" },
            { number: 82, title: "Time expressions", category: "numbers", url: "https://www.lingohut.com/en/v772694L/dutch-lessons-time-expressions/listening-game" },
            { number: 83, title: "Time vocabulary", category: "numbers", url: "https://www.lingohut.com/en/v772695L/dutch-lessons-time-vocabulary/listening-game" },
            { number: 84, title: "Time and date", category: "numbers", url: "https://www.lingohut.com/en/v772696L/dutch-lessons-time-and-date/listening-game" },
            
            // School & Learning
            { number: 14, title: "School supplies", category: "school", url: "https://www.lingohut.com/en/v772626L/dutch-lessons-school-supplies/listening-game" },
            { number: 15, title: "Classroom", category: "school", url: "https://www.lingohut.com/en/v772627L/dutch-lessons-classroom/listening-game" },
            { number: 16, title: "School subjects", category: "school", url: "https://www.lingohut.com/en/v772628L/dutch-lessons-school-subjects/listening-game" },
            
            // Colors & Science
            { number: 17, title: "Colors", category: "science", url: "https://www.lingohut.com/en/v772629L/dutch-lessons-colors/listening-game" },
            { number: 18, title: "Geography", category: "science", url: "https://www.lingohut.com/en/v772630L/dutch-lessons-geography/listening-game" },
            { number: 19, title: "Astronomy", category: "science", url: "https://www.lingohut.com/en/v772631L/dutch-lessons-astronomy/listening-game" },
            { number: 20, title: "Solar system", category: "science", url: "https://www.lingohut.com/en/v772632L/dutch-lessons-solar-system/listening-game" },
            { number: 21, title: "Seasons and weather", category: "science", url: "https://www.lingohut.com/en/v772633L/dutch-lessons-seasons-and-weather/listening-game" },
            
            // Sports & Recreation
            { number: 22, title: "Sports", category: "sports", url: "https://www.lingohut.com/en/v772634L/dutch-lessons-sports/listening-game" },
            { number: 23, title: "Recreation", category: "sports", url: "https://www.lingohut.com/en/v772635L/dutch-lessons-recreation/listening-game" },
            { number: 24, title: "Musical instruments", category: "sports", url: "https://www.lingohut.com/en/v772636L/dutch-lessons-musical-instruments/listening-game" },
            { number: 25, title: "In the pool", category: "sports", url: "https://www.lingohut.com/en/v772637L/dutch-lessons-in-the-pool/listening-game" },
            { number: 26, title: "At the beach", category: "sports", url: "https://www.lingohut.com/en/v772638L/dutch-lessons-at-the-beach/listening-game" },
            { number: 27, title: "Beach activities", category: "sports", url: "https://www.lingohut.com/en/v772639L/dutch-lessons-beach-activities/listening-game" },
            
            // Animals & Nature
            { number: 28, title: "Ocean animals and fish", category: "animals", url: "https://www.lingohut.com/en/v772640L/dutch-lessons-ocean-animals-and-fish/listening-game" },
            { number: 29, title: "Farm animals", category: "animals", url: "https://www.lingohut.com/en/v772641L/dutch-lessons-farm-animals/listening-game" },
            { number: 30, title: "Wild animals", category: "animals", url: "https://www.lingohut.com/en/v772642L/dutch-lessons-wild-animals/listening-game" },
            { number: 31, title: "Insects", category: "animals", url: "https://www.lingohut.com/en/v772643L/dutch-lessons-insects/listening-game" },
            { number: 32, title: "Types of birds", category: "animals", url: "https://www.lingohut.com/en/v772644L/dutch-lessons-types-of-birds/listening-game" },
            { number: 33, title: "At the zoo", category: "animals", url: "https://www.lingohut.com/en/v772645L/dutch-lessons-at-the-zoo/listening-game" },
            
            // Family & People
            { number: 34, title: "Family members", category: "family", url: "https://www.lingohut.com/en/v772646L/dutch-lessons-family-members/listening-game" },
            { number: 35, title: "Extended family members", category: "family", url: "https://www.lingohut.com/en/v772647L/dutch-lessons-extended-family-members/listening-game" },
            { number: 36, title: "Friends", category: "family", url: "https://www.lingohut.com/en/v772648L/dutch-lessons-friends/listening-game" },
            { number: 37, title: "Family relations", category: "family", url: "https://www.lingohut.com/en/v772649L/dutch-lessons-family-relations/listening-game" },
            
            // Clothing & Appearance
            { number: 38, title: "Clothing", category: "clothing", url: "https://www.lingohut.com/en/v772650L/dutch-lessons-clothing/listening-game" },
            { number: 39, title: "Outerwear", category: "clothing", url: "https://www.lingohut.com/en/v772651L/dutch-lessons-outerwear/listening-game" },
            { number: 40, title: "Undergarments", category: "clothing", url: "https://www.lingohut.com/en/v772652L/dutch-lessons-undergarments/listening-game" },
            { number: 41, title: "Baby items", category: "clothing", url: "https://www.lingohut.com/en/v772653L/dutch-lessons-baby-items/listening-game" },
            { number: 42, title: "Jewelry", category: "clothing", url: "https://www.lingohut.com/en/v772654L/dutch-lessons-jewelry/listening-game" },
            { number: 43, title: "Makeup and beauty products", category: "clothing", url: "https://www.lingohut.com/en/v772655L/dutch-lessons-makeup-and-beauty-products/listening-game" },
            { number: 44, title: "Toiletries", category: "clothing", url: "https://www.lingohut.com/en/v772656L/dutch-lessons-toiletries/listening-game" },
            
            // Home & Household
            { number: 45, title: "Rooms in a house", category: "home", url: "https://www.lingohut.com/en/v772657L/dutch-lessons-rooms-in-a-house/listening-game" },
            { number: 46, title: "Parts of a house", category: "home", url: "https://www.lingohut.com/en/v772658L/dutch-lessons-parts-of-a-house/listening-game" },
            { number: 47, title: "Furniture", category: "home", url: "https://www.lingohut.com/en/v772659L/dutch-lessons-furniture/listening-game" },
            { number: 48, title: "Household items", category: "home", url: "https://www.lingohut.com/en/v772660L/dutch-lessons-household-items/listening-game" },
            { number: 49, title: "Bathroom accessories", category: "home", url: "https://www.lingohut.com/en/v772661L/dutch-lessons-bathroom-accessories/listening-game" },
            { number: 50, title: "Kitchen appliances and utensils", category: "home", url: "https://www.lingohut.com/en/v772662L/dutch-lessons-kitchen-appliances-and-utensils/listening-game" },
            { number: 51, title: "Table setting", category: "home", url: "https://www.lingohut.com/en/v772663L/dutch-lessons-table-setting/listening-game" },
            { number: 52, title: "Meals", category: "home", url: "https://www.lingohut.com/en/v772664L/dutch-lessons-meals/listening-game" },
            
            // Shopping & Town
            { number: 53, title: "Places in town", category: "shopping", url: "https://www.lingohut.com/en/v772665L/dutch-lessons-places-in-town/listening-game" },
            { number: 54, title: "Shops in town", category: "shopping", url: "https://www.lingohut.com/en/v772666L/dutch-lessons-shops-in-town/listening-game" },
            { number: 55, title: "Things on the street", category: "shopping", url: "https://www.lingohut.com/en/v772667L/dutch-lessons-things-on-the-street/listening-game" },
            { number: 56, title: "Shopping", category: "shopping", url: "https://www.lingohut.com/en/v772668L/dutch-lessons-shopping/listening-game" },
            { number: 57, title: "Shopping for clothes", category: "shopping", url: "https://www.lingohut.com/en/v772669L/dutch-lessons-shopping-for-clothes/listening-game" },
            { number: 58, title: "Negotiating a price", category: "shopping", url: "https://www.lingohut.com/en/v772670L/dutch-lessons-negotiating-a-price/listening-game" },
            { number: "Extra", title: "Going shopping with a friend", category: "shopping", url: "https://www.lingohut.com/en/v659L/dutch-lessons-going-shopping-with-a-friend/listening-game" },
            
            // Food & Drinks
            { number: 59, title: "Grocery store", category: "food", url: "https://www.lingohut.com/en/v772671L/dutch-lessons-grocery-store/listening-game" },
            { number: 60, title: "Grocery shopping list", category: "food", url: "https://www.lingohut.com/en/v772672L/dutch-lessons-grocery-shopping-list/listening-game" },
            { number: 61, title: "Fruits", category: "food", url: "https://www.lingohut.com/en/v772673L/dutch-lessons-fruits/listening-game" },
            { number: 62, title: "Sweet fruits", category: "food", url: "https://www.lingohut.com/en/v772674L/dutch-lessons-sweet-fruits/listening-game" },
            { number: 63, title: "Vegetables", category: "food", url: "https://www.lingohut.com/en/v772675L/dutch-lessons-vegetables/listening-game" },
            { number: 64, title: "Healthy vegetables", category: "food", url: "https://www.lingohut.com/en/v772676L/dutch-lessons-healthy-vegetables/listening-game" },
            { number: 65, title: "Herbs and spices", category: "food", url: "https://www.lingohut.com/en/v772677L/dutch-lessons-herbs-and-spices/listening-game" },
            { number: 66, title: "Dairy products", category: "food", url: "https://www.lingohut.com/en/v772678L/dutch-lessons-dairy-products/listening-game" },
            { number: 67, title: "Meats at the butcher shop", category: "food", url: "https://www.lingohut.com/en/v772679L/dutch-lessons-meats-at-the-butcher-shop/listening-game" },
            { number: 68, title: "Seafood market", category: "food", url: "https://www.lingohut.com/en/v772680L/dutch-lessons-seafood-market/listening-game" },
            { number: 69, title: "Bakery", category: "food", url: "https://www.lingohut.com/en/v772681L/dutch-lessons-bakery/listening-game" },
            { number: 70, title: "Drinks", category: "food", url: "https://www.lingohut.com/en/v772682L/dutch-lessons-drinks/listening-game" },
            { number: 71, title: "At a restaurant", category: "food", url: "https://www.lingohut.com/en/v772683L/dutch-lessons-at-a-restaurant/listening-game" },
            { number: 72, title: "The menu", category: "food", url: "https://www.lingohut.com/en/v772684L/dutch-lessons-the-menu/listening-game" },
            { number: 73, title: "Food preparation", category: "food", url: "https://www.lingohut.com/en/v772685L/dutch-lessons-food-preparation/listening-game" },
            { number: 74, title: "Dietary restrictions", category: "food", url: "https://www.lingohut.com/en/v772686L/dutch-lessons-dietary-restrictions/listening-game" },
            { number: 75, title: "How is the food?", category: "food", url: "https://www.lingohut.com/en/v772687L/dutch-lessons-how-is-the-food/listening-game" },
            { number: 76, title: "Paying the bill", category: "food", url: "https://www.lingohut.com/en/v772688L/dutch-lessons-paying-the-bill/listening-game" },
            { number: "Extra", title: "Going out for drinks/food", category: "food", url: "https://www.lingohut.com/en/v613L/dutch-lessons-going-out-for-drinks-food/listening-game" },
            { number: "Extra", title: "Having a dinner party", category: "food", url: "https://www.lingohut.com/en/v20001L/dutch-lessons-having-a-dinner-party/listening-game" },
            
            // Transportation & Travel
            { number: 77, title: "Transportation", category: "travel", url: "https://www.lingohut.com/en/v772689L/dutch-lessons-transportation/listening-game" },
            { number: 78, title: "Directions", category: "travel", url: "https://www.lingohut.com/en/v772690L/dutch-lessons-directions/listening-game" },
            { number: 79, title: "Asking for directions", category: "travel", url: "https://www.lingohut.com/en/v772691L/dutch-lessons-asking-for-directions/listening-game" },
            { number: 80, title: "Giving directions", category: "travel", url: "https://www.lingohut.com/en/v772692L/dutch-lessons-giving-directions/listening-game" },
            { number: 81, title: "Getting around town", category: "travel", url: "https://www.lingohut.com/en/v772693L/dutch-lessons-getting-around-town/listening-game" },
            { number: 93, title: "Airport and departure", category: "travel", url: "https://www.lingohut.com/en/v772705L/dutch-lessons-airport-and-departure/listening-game" },
            { number: 94, title: "Immigration and customs", category: "travel", url: "https://www.lingohut.com/en/v772706L/dutch-lessons-immigration-and-customs/listening-game" },
            { number: 95, title: "Traveling on an airplane", category: "travel", url: "https://www.lingohut.com/en/v772707L/dutch-lessons-traveling-on-an-airplane/listening-game" },
            { number: 96, title: "Arrival and baggage", category: "travel", url: "https://www.lingohut.com/en/v772708L/dutch-lessons-arrival-and-baggage/listening-game" },
            { number: 97, title: "Hotel reservations", category: "travel", url: "https://www.lingohut.com/en/v772709L/dutch-lessons-hotel-reservations/listening-game" },
            { number: 98, title: "Renting a room or Airbnb", category: "travel", url: "https://www.lingohut.com/en/v772710L/dutch-lessons-renting-a-room-or-airbnb/listening-game" },
            { number: 99, title: "Checking out of the hotel", category: "travel", url: "https://www.lingohut.com/en/v772711L/dutch-lessons-checking-out-of-the-hotel/listening-game" },
            
            // Health & Body
            { number: 85, title: "Body parts", category: "health", url: "https://www.lingohut.com/en/v772697L/dutch-lessons-bodyparts/listening-game" },
            { number: 86, title: "Anatomy", category: "health", url: "https://www.lingohut.com/en/v772698L/dutch-lessons-anatomy/listening-game" },
            { number: 87, title: "Internal organs", category: "health", url: "https://www.lingohut.com/en/v772699L/dutch-lessons-internal-organs/listening-game" },
            { number: 88, title: "Medical supplies", category: "health", url: "https://www.lingohut.com/en/v772700L/dutch-lessons-medical-supplies/listening-game" },
            { number: 89, title: "Medical office", category: "health", url: "https://www.lingohut.com/en/v772701L/dutch-lessons-medical-office/listening-game" },
            { number: 90, title: "Doctor: I am sick", category: "health", url: "https://www.lingohut.com/en/v772702L/dutch-lessons-doctor-i-am-sick/listening-game" },
            { number: 91, title: "Doctor: I am hurt", category: "health", url: "https://www.lingohut.com/en/v772703L/dutch-lessons-doctor-i-am-hurt/listening-game" },
            { number: 92, title: "Doctor: I have a cold", category: "health", url: "https://www.lingohut.com/en/v772704L/dutch-lessons-doctor-i-have-a-cold/listening-game" },
            { number: 100, title: "Emergency expressions", category: "health", url: "https://www.lingohut.com/en/v772712L/dutch-lessons-emergency-expressions/listening-game" },
            { number: "Extra", title: "Not feeling well", category: "health", url: "https://www.lingohut.com/en/v20007L/dutch-lessons-not-feeling-well/listening-game" },
            
            // Work & Technology
            { number: 101, title: "Occupations", category: "work", url: "https://www.lingohut.com/en/v772713L/dutch-lessons-occupations/listening-game" },
            { number: 102, title: "Professions", category: "work", url: "https://www.lingohut.com/en/v772714L/dutch-lessons-professions/listening-game" },
            { number: 103, title: "Office equipment", category: "work", url: "https://www.lingohut.com/en/v772715L/dutch-lessons-office-equipment/listening-game" },
            { number: 104, title: "Office supplies", category: "work", url: "https://www.lingohut.com/en/v772716L/dutch-lessons-office-supplies/listening-game" },
            { number: 105, title: "Job application", category: "work", url: "https://www.lingohut.com/en/v772717L/dutch-lessons-job-application/listening-game" },
            { number: 106, title: "Job interview", category: "work", url: "https://www.lingohut.com/en/v772718L/dutch-lessons-job-interview/listening-game" },
            { number: 107, title: "Internet terms", category: "work", url: "https://www.lingohut.com/en/v772719L/dutch-lessons-internet-terms/listening-game" },
            { number: 108, title: "Navigating the internet", category: "work", url: "https://www.lingohut.com/en/v772720L/dutch-lessons-navigating-the-internet/listening-game" },
            { number: 109, title: "Website", category: "work", url: "https://www.lingohut.com/en/v772721L/dutch-lessons-website/listening-game" },
            { number: 110, title: "Computer parts", category: "work", url: "https://www.lingohut.com/en/v772722L/dutch-lessons-computer-parts/listening-game" },
            { number: 111, title: "Email terms", category: "work", url: "https://www.lingohut.com/en/v772723L/dutch-lessons-email-terms/listening-game" },
            { number: 112, title: "Shopping online", category: "work", url: "https://www.lingohut.com/en/v772724L/dutch-lessons-shopping-online/listening-game" },
            
            // Grammar & Language
            { number: 113, title: "Useful words", category: "grammar", url: "https://www.lingohut.com/en/v772725L/dutch-lessons-useful-words/listening-game" },
            { number: 114, title: "Adjectives", category: "grammar", url: "https://www.lingohut.com/en/v772726L/dutch-lessons-adjectives/listening-game" },
            { number: 115, title: "Antonyms", category: "grammar", url: "https://www.lingohut.com/en/v772727L/dutch-lessons-antonyms/listening-game" },
            { number: 116, title: "Personal pronouns", category: "grammar", url: "https://www.lingohut.com/en/v772728L/dutch-lessons-personal-pronouns/listening-game" },
            { number: 117, title: "Possessive pronouns", category: "grammar", url: "https://www.lingohut.com/en/v772729L/dutch-lessons-possessive-pronouns/listening-game" },
            { number: 118, title: "Questions", category: "grammar", url: "https://www.lingohut.com/en/v772730L/dutch-lessons-questions/listening-game" },
            { number: 119, title: "Indefinite pronouns and linking words", category: "grammar", url: "https://www.lingohut.com/en/v772731L/dutch-lessons-indefinite-pronouns-and-linking-words/listening-game" },
            { number: 120, title: "Prepositions", category: "grammar", url: "https://www.lingohut.com/en/v772732L/dutch-lessons-prepositions/listening-game" },
            { number: 121, title: "Common prepositions", category: "grammar", url: "https://www.lingohut.com/en/v772733L/dutch-lessons-common-prepositions/listening-game" },
            { number: 122, title: "Conjunctions", category: "grammar", url: "https://www.lingohut.com/en/v772734L/dutch-lessons-conjunctions/listening-game" },
            { number: 123, title: "The things I want and don't want", category: "grammar", url: "https://www.lingohut.com/en/v772735L/dutch-lessons-the-things-i-want-and-dont-want/listening-game" },
            { number: 124, title: "The things I like and don't like", category: "grammar", url: "https://www.lingohut.com/en/v772736L/dutch-lessons-the-things-i-like-and-dont-like/listening-game" },
            { number: 125, title: "The things I need and don't need", category: "grammar", url: "https://www.lingohut.com/en/v772737L/dutch-lessons-the-things-i-need-and-dont-need/listening-game" },
            
            // Extra Lessons
            { number: "Extra", title: "At the hairdressers", category: "extra", url: "https://www.lingohut.com/en/v20003L/dutch-lessons-at-the-hairdressers/listening-game" },
            { number: "Extra", title: "Going to a party", category: "extra", url: "https://www.lingohut.com/en/v640L/dutch-lessons-going-to-a-party/listening-game" },
            { number: "Extra", title: "Going to the club", category: "extra", url: "https://www.lingohut.com/en/v638L/dutch-lessons-going-to-the-club/listening-game" }
        ];

        // State variables
        let currentLessonIndex = 0;
        let isPlaying = false;
        let timer = null;
        let secondsOnCurrentLesson = 0;
        let completedLessons = new Set();
        let filteredLessons = [...allLessons];
        
        // DOM elements
        const gameFrame = document.getElementById('gameFrame');
        const currentLessonNumber = document.getElementById('currentLessonNumber');
        const currentLessonTitle = document.getElementById('currentLessonTitle');
        const currentLessonCategory = document.getElementById('currentLessonCategory');
        const progressFill = document.getElementById('progressFill');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const categorySelect = document.getElementById('categorySelect');
        const lessonSelect = document.getElementById('lessonSelect');
        const prev10Btn = document.getElementById('prev10Btn');
        const next10Btn = document.getElementById('next10Btn');
        const randomBtn = document.getElementById('randomBtn');
        const completedCount = document.getElementById('completedCount');
        const currentIndexDisplay = document.getElementById('currentIndexDisplay');
        const timerDisplay = document.getElementById('timerDisplay');
        
        // Category mapping for display
        const categoryNames = {
            basics: "Basics & Greetings",
            numbers: "Numbers & Time",
            school: "School & Learning",
            science: "Colors & Science",
            sports: "Sports & Recreation",
            animals: "Animals & Nature",
            family: "Family & People",
            clothing: "Clothing & Appearance",
            home: "Home & Household",
            shopping: "Shopping & Town",
            food: "Food & Drinks",
            travel: "Transportation & Travel",
            health: "Health & Body",
            work: "Work & Technology",
            grammar: "Grammar & Language",
            extra: "Extra & Social"
        };
        
        // Initialize
        function init() {
            loadLesson(currentLessonIndex);
            updateUI();
            
            // Try to restore progress from localStorage
            const savedProgress = localStorage.getItem('dutchListeningProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                currentLessonIndex = progress.currentIndex || 0;
                completedLessons = new Set(progress.completed || []);
                loadLesson(currentLessonIndex);
                updateUI();
            }
        }
        
        // Load a lesson by index
        function loadLesson(index) {
            if (index < 0 || index >= filteredLessons.length) return;
            
            currentLessonIndex = index;
            const lesson = filteredLessons[index];
            
            // Update info display
            currentLessonNumber.textContent = `Lesson ${typeof lesson.number === 'number' ? lesson.number : lesson.number} of ${filteredLessons.length}`;
            currentLessonTitle.textContent = lesson.title;
            currentLessonCategory.textContent = `Category: ${categoryNames[lesson.category]}`;
            
            // Update progress bar
            const progressPercent = ((index + 1) / filteredLessons.length) * 100;
            progressFill.style.width = `${progressPercent}%`;
            
            // Reset timer
            secondsOnCurrentLesson = 0;
            updateTimerDisplay();
            
            // Load iframe
            gameFrame.innerHTML = `
                <iframe 
                    src="${lesson.url}" 
                    style="width:100%; height:100%; border:none;"
                    title="${lesson.title}"
                    loading="lazy"
                ></iframe>
            `;
            
            // Mark as completed if not already
            if (!completedLessons.has(index)) {
                completedLessons.add(index);
                updateCompletedCount();
            }
            
            updateUI();
            saveProgress();
        }
        
        // Update UI state
        function updateUI() {
            // Update button states
            prevBtn.disabled = currentLessonIndex === 0;
            nextBtn.disabled = currentLessonIndex === filteredLessons.length - 1;
            prev10Btn.disabled = currentLessonIndex < 10;
            next10Btn.disabled = currentLessonIndex > filteredLessons.length - 11;
            
            // Update play/pause button
            playPauseBtn.innerHTML = isPlaying ? '‚è∏ Pause' : '‚ñ∂ Play';
            
            // Update current position display
            currentIndexDisplay.textContent = currentLessonIndex + 1;
            
            // Update completed count
            updateCompletedCount();
        }
        
        function updateCompletedCount() {
            completedCount.textContent = completedLessons.size;
        }
        
        function updateTimerDisplay() {
            const minutes = Math.floor(secondsOnCurrentLesson / 60);
            const seconds = secondsOnCurrentLesson % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // Start auto-play
        function startAutoPlay() {
            if (isPlaying) return;
            
            isPlaying = true;
            updateUI();
            
            // Start timer
            timer = setInterval(() => {
                secondsOnCurrentLesson++;
                updateTimerDisplay();
            }, 1000);
            
            // Check auto-advance setting
            const advanceSetting = lessonSelect.value;
            if (advanceSetting !== 'manual') {
                const advanceSeconds = advanceSetting === 'auto' ? 30 : parseInt(advanceSetting);
                setTimeout(() => {
                    if (isPlaying) {
                        nextLesson();
                    }
                }, advanceSeconds * 1000);
            }
        }
        
        // Pause auto-play
        function pauseAutoPlay() {
            isPlaying = false;
            clearInterval(timer);
            updateUI();
        }
        
        // Toggle play/pause
        function togglePlayPause() {
            if (isPlaying) {
                pauseAutoPlay();
            } else {
                startAutoPlay();
            }
        }
        
        // Navigate to next lesson
        function nextLesson() {
            if (currentLessonIndex < filteredLessons.length - 1) {
                loadLesson(currentLessonIndex + 1);
                if (isPlaying) {
                    pauseAutoPlay();
                    setTimeout(startAutoPlay, 100);
                }
            }
        }
        
        // Navigate to previous lesson
        function prevLesson() {
            if (currentLessonIndex > 0) {
                loadLesson(currentLessonIndex - 1);
                if (isPlaying) {
                    pauseAutoPlay();
                    setTimeout(startAutoPlay, 100);
                }
            }
        }
        
        // Jump 10 lessons forward/backward
        function jumpForward10() {
            const newIndex = Math.min(currentLessonIndex + 10, filteredLessons.length - 1);
            loadLesson(newIndex);
            if (isPlaying) {
                pauseAutoPlay();
                setTimeout(startAutoPlay, 100);
            }
        }
        
        function jumpBackward10() {
            const newIndex = Math.max(currentLessonIndex - 10, 0);
            loadLesson(newIndex);
            if (isPlaying) {
                pauseAutoPlay();
                setTimeout(startAutoPlay, 100);
            }
        }
        
        // Load random lesson
        function loadRandomLesson() {
            const randomIndex = Math.floor(Math.random() * filteredLessons.length);
            loadLesson(randomIndex);
            if (isPlaying) {
                pauseAutoPlay();
                setTimeout(startAutoPlay, 100);
            }
        }
        
        // Filter lessons by category
        function filterByCategory() {
            const selectedCategory = categorySelect.value;
            
            if (selectedCategory === 'all') {
                filteredLessons = [...allLessons];
            } else {
                filteredLessons = allLessons.filter(lesson => lesson.category === selectedCategory);
            }
            
            // Reset to first lesson in filtered list
            currentLessonIndex = 0;
            loadLesson(0);
        }
        
        // Save progress to localStorage
        function saveProgress() {
            const progress = {
                currentIndex: currentLessonIndex,
                completed: Array.from(completedLessons),
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('dutchListeningProgress', JSON.stringify(progress));
        }
        
        // Clear progress
        function clearProgress() {
            if (confirm('Clear all progress and start over?')) {
                localStorage.removeItem('dutchListeningProgress');
                completedLessons.clear();
                currentLessonIndex = 0;
                loadLesson(0);
            }
        }
        
        // Event listeners
        playPauseBtn.addEventListener('click', togglePlayPause);
        prevBtn.addEventListener('click', prevLesson);
        nextBtn.addEventListener('click', nextLesson);
        prev10Btn.addEventListener('click', jumpBackward10);
        next10Btn.addEventListener('click', jumpForward10);
        randomBtn.addEventListener('click', loadRandomLesson);
        categorySelect.addEventListener('change', filterByCategory);
        lessonSelect.addEventListener('change', function() {
            if (isPlaying && this.value !== 'manual') {
                pauseAutoPlay();
                startAutoPlay();
            }
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Space for play/pause
            if (e.code === 'Space' && e.target === document.body) {
                e.preventDefault();
                togglePlayPause();
            }
            // Arrow keys for navigation
            if (e.code === 'ArrowRight') {
                e.preventDefault();
                nextLesson();
            }
            if (e.code === 'ArrowLeft') {
                e.preventDefault();
                prevLesson();
            }
            // R for random
            if (e.code === 'KeyR' && e.ctrlKey) {
                e.preventDefault();
                loadRandomLesson();
            }
        });
        
        // Add clear progress button (hidden feature)
        const clearBtn = document.createElement('button');
        clearBtn.textContent = 'Clear Progress';
        clearBtn.style.marginLeft = '10px';
        clearBtn.style.background = '#ff6b6b';
        clearBtn.addEventListener('click', clearProgress);
        clearBtn.addEventListener('mouseenter', () => {
            clearBtn.style.background = '#ff5252';
        });
        clearBtn.addEventListener('mouseleave', () => {
            clearBtn.style.background = '#ff6b6b';
        });
        document.querySelector('.control-group').appendChild(clearBtn);
        
        // Initialize
        init();
    </script>
</body>
</html>